@model Portalia.ViewModels.CreateAppointment


<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h4 class="modal-title">informations de l'utilisateur</h4>
</div>
<div class="modal-body">
    @using (Html.BeginForm("CreateAppoinment", "Home", FormMethod.Post, new { id = "form-request", data_url = Url.Action("CreateAppoinment", "Home") }))
    {
        @Html.HiddenFor(c => c.DateTime)
        <div class="form-group">
            @Html.LabelFor(c => c.FirstName)
            @Html.TextBoxFor(c => c.FirstName, new { @class = "form-control" })
            @Html.ValidationMessageFor(c => c.FirstName, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.LabelFor(c => c.LastName)
            @Html.TextBoxFor(c => c.LastName, new { @class = "form-control" })
            @Html.ValidationMessageFor(c => c.LastName, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.LabelFor(c => c.Email)
            @Html.TextBoxFor(c => c.Email, new { @class = "form-control" })
            @Html.ValidationMessageFor(c => c.Email, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            <input type="submit" id="submit-request" name="name" class="btn btn-info" value="envoyer" />
        </div>
    }

</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
</div>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script>
    $("#form-request").submit(function (e) {
        e.preventDefault();
        var form = $(this);
        if (form.valid()) {
            var url = $("#form-request").data().url;
            $.post(url, $("#form-request").serialize());
            helper.HideModal();
            helper.ShowAlert("success", "demande envoyée");
        }
    });
</script>